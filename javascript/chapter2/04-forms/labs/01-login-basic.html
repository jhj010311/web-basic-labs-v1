<!DOCTYPE html>
<html>
    <body>
        <form id="loginForm">
            <input type="text" id="id" placeholder="아이디" />
            <input type="password" id="pw" placeholder="비밀번호" />
            <button>로그인</button>
        </form>
        <p id="msg"></p>
        <script>
            // TODO: submit에서 값 검사, 에러/성공 메시지 DOM에 출력
            const loginForm = document.getElementById("loginForm");
            const msg = document.getElementById("msg");
            const id = document.getElementById("id");
            const pw = document.getElementById("pw");

            loginForm.addEventListener("submit", (e) => {
                e.preventDefault();
                let enter = "";
                let exitTrigger = false;
                msg.textContent = "";

                if (id.value.length === 0) {
                    msg.textContent = "아이디는 공백이어선 안 됩니다";
                    enter = "<br>";
                    exitTrigger = true;
                }

                if (pw.value.length === 0) {
                    msg.innerHTML += enter + "비밀번호는 공백이어선 안 됩니다";
                    exitTrigger = true;
                } else if (!/[A-Z]/.test(pw.value)) {
                    msg.innerHTML += enter + "비밀번호에 대문자를 포함해주세요";
                    exitTrigger = true;
                } else if (!/\d/.test(pw.value)) {
                    msg.innerHTML += enter + "비밀번호에 숫자를 포함해주세요";
                    exitTrigger = true;
                } else if (!/[!@#$%^&*]/.test(pw.value)) {
                    msg.innerHTML +=
                        enter + "비밀번호에 특수문자(!@#$%^&*)를 포함해주세요";
                    exitTrigger = true;
                }

                if (exitTrigger) {
                    return;
                }

                loginForm.submit();
            });
        </script>
    </body>
</html>
